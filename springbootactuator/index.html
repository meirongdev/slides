<!doctype html><html lang=en><head><meta charset=utf-8><title>Spring Boot Actuator</title><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="black-translucent"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><link rel=stylesheet href=/slides/reveal-js/dist/reset.css><link rel=stylesheet href=/slides/reveal-js/dist/reveal.css><link rel=stylesheet href=/slides/reveal-js/dist/theme/black.css id=theme><link rel=stylesheet href=/slides/highlight-js/default.min.css><link rel=stylesheet href=/slides/css/custom.css id=custom_css></head><body><div class=reveal><div class=slides><section><h2 id=spring-boot-actuator>Spring Boot Actuator</h2><p>This presentation covers the features and usage of Spring Boot Actuator.</p></section><section><section data-shortcode-section><h2 id=enabling-production-ready-features><a href=https://docs.spring.io/spring-boot/reference/actuator/enabling.html>Enabling Production-ready Features</a></h2></section><section><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span><span style=color:#f92672>&lt;dependencies&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>&lt;groupId&gt;</span>org.springframework.boot<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#f92672>&lt;artifactId&gt;</span>spring-boot-starter-actuator<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dependencies&gt;</span>
</span></span></code></pre></div></section><section><p>access: <code>/actuator</code> endpoint</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;_links&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;self&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;href&#34;</span>: <span style=color:#e6db74>&#34;http://localhost:8080/actuator&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;templated&#34;</span>: <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;health-path&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;href&#34;</span>: <span style=color:#e6db74>&#34;http://localhost:8080/actuator/health/{*path}&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;templated&#34;</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;health&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;href&#34;</span>: <span style=color:#e6db74>&#34;http://localhost:8080/actuator/health&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;templated&#34;</span>: <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></section></section><section><h3 id=endpoints><a href=https://docs.spring.io/spring-boot/reference/actuator/endpoints.html>Endpoints</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span><span style=color:#f92672>management</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>endpoints</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>web</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>exposure</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>include</span>: <span style=color:#e6db74>&#34;*&#34;</span>
</span></span></code></pre></div><p><a href=https://docs.spring.io/spring-boot/api/rest/actuator/index.html>Actuator Rest API</a></p></section><section><section data-shortcode-section><h2 id=access-control>access control</h2></section><section><p><span style=color:orange>Only expose what you really need!</span></p><blockquote><p>By default, access to all endpoints except for <strong><code>shutdown</code></strong> and <strong><code>heapdump</code></strong> is unrestricted.</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span><span style=color:#f92672>management</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>endpoint</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>shutdown</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>access</span>: <span style=color:#ae81ff>unrestricted</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>heapdump</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>access</span>: <span style=color:#ae81ff>unrestricted</span>
</span></span></code></pre></div></section></section><section><section data-shortcode-section><h2 id=security>Security</h2></section><section><p>Additional port for internal access</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span><span style=color:#f92672>management</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>server</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>port</span>: <span style=color:#ae81ff>8081</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span>http :8081/actuator/health
</span></span></code></pre></div></section><section><p>Add Spring Security</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span><span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span> <span style=color:#f92672>&lt;groupId&gt;</span>org.springframework.boot<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span> <span style=color:#f92672>&lt;artifactId&gt;</span>spring-boot-starter-security<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span><span style=color:#f92672>management</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>endpoint</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>env</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>show-values</span>: <span style=color:#ae81ff>when-authorized</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span><span style=color:#f92672>spring</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>security</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>user</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>name</span>: <span style=color:#ae81ff>admin</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>password</span>: <span style=color:#ae81ff>123456</span>
</span></span></code></pre></div></section><section><p>Stricter - Add Custom SecurityFilterChain</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span>	<span style=color:#a6e22e>@Bean</span>
</span></span><span style=display:flex><span>	SecurityFilterChain <span style=color:#a6e22e>actuatorSecurityFilterChain</span>(HttpSecurity http) <span style=color:#66d9ef>throws</span> Exception {
</span></span><span style=display:flex><span>		http
</span></span><span style=display:flex><span>			.<span style=color:#a6e22e>securityMatcher</span>(EndpointRequest.<span style=color:#a6e22e>toAnyEndpoint</span>())
</span></span><span style=display:flex><span>			.<span style=color:#a6e22e>authorizeHttpRequests</span>(requests <span style=color:#f92672>-&gt;</span> requests
</span></span><span style=display:flex><span>				.<span style=color:#a6e22e>requestMatchers</span>(EndpointRequest.<span style=color:#a6e22e>to</span>(<span style=color:#e6db74>&#34;health&#34;</span>, <span style=color:#e6db74>&#34;info&#34;</span>, <span style=color:#e6db74>&#34;metrics&#34;</span>, <span style=color:#e6db74>&#34;prometheus&#34;</span>)).<span style=color:#a6e22e>permitAll</span>()
</span></span><span style=display:flex><span>				.<span style=color:#a6e22e>anyRequest</span>().<span style=color:#a6e22e>authenticated</span>()
</span></span><span style=display:flex><span>			)
</span></span><span style=display:flex><span>			.<span style=color:#a6e22e>httpBasic</span>(Customizer.<span style=color:#a6e22e>withDefaults</span>())
</span></span><span style=display:flex><span>			.<span style=color:#a6e22e>csrf</span>(csrf <span style=color:#f92672>-&gt;</span> csrf.<span style=color:#a6e22e>disable</span>());
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> http.<span style=color:#a6e22e>build</span>();
</span></span><span style=display:flex><span>	}
</span></span></code></pre></div></section></section><section><section data-shortcode-section><h2 id=health>Health</h2><p>Show Details</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span><span style=color:#f92672>management</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>endpoint</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>health</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>show-details</span>: <span style=color:#ae81ff>always</span>
</span></span></code></pre></div></section><section><p><code>http :8081/actuator/health</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;components&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;diskSpace&#34;</span>: {
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;details&#34;</span>: {
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;exists&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;free&#34;</span>: <span style=color:#ae81ff>870792753152</span>,
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;path&#34;</span>: <span style=color:#e6db74>&#34;/Users/matthew/projects/meirongdev/actuator-demo/.&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;threshold&#34;</span>: <span style=color:#ae81ff>10485760</span>,
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;total&#34;</span>: <span style=color:#ae81ff>994662584320</span>
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;status&#34;</span>: <span style=color:#e6db74>&#34;UP&#34;</span>
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;ping&#34;</span>: {
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;status&#34;</span>: <span style=color:#e6db74>&#34;UP&#34;</span>
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;ssl&#34;</span>: {
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;details&#34;</span>: {
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;invalidChains&#34;</span>: [],
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;validChains&#34;</span>: []
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;status&#34;</span>: <span style=color:#e6db74>&#34;UP&#34;</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;status&#34;</span>: <span style=color:#e6db74>&#34;UP&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></section><section><h3 id=more-builtin>More builtin</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span><span style=color:#ae81ff>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>&lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>&lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>&lt;/dependency&gt;</span>
</span></span></code></pre></div><p>Additional starters may add their own health indicators</p></section><section><p>output when redis is not available:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;components&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;diskSpace&#34;</span>: {
</span></span><span style=display:flex><span>            <span style=color:#960050;background-color:#1e0010>...</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;status&#34;</span>: <span style=color:#e6db74>&#34;UP&#34;</span>
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;ping&#34;</span>: {
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;status&#34;</span>: <span style=color:#e6db74>&#34;UP&#34;</span>
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;redis&#34;</span>: {
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;details&#34;</span>: {
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;error&#34;</span>: <span style=color:#e6db74>&#34;org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis&#34;</span>
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;status&#34;</span>: <span style=color:#e6db74>&#34;DOWN&#34;</span>
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;ssl&#34;</span>: {
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;details&#34;</span>: {
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;invalidChains&#34;</span>: [],
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;validChains&#34;</span>: []
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;status&#34;</span>: <span style=color:#e6db74>&#34;UP&#34;</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;status&#34;</span>: <span style=color:#e6db74>&#34;DOWN&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></section><section><p>Customize Health Indicator</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span><span style=color:#a6e22e>@Bean</span>(name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;depsIndicator&#34;</span>)
</span></span><span style=display:flex><span>    HealthIndicator <span style=color:#a6e22e>depsHealthIndicator</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> () <span style=color:#f92672>-&gt;</span> {
</span></span><span style=display:flex><span>            Health.<span style=color:#a6e22e>Builder</span> healthBuilder <span style=color:#f92672>=</span> Health.<span style=color:#a6e22e>up</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>// Define the services to check</span>
</span></span><span style=display:flex><span>            Map<span style=color:#f92672>&lt;</span>String, Boolean<span style=color:#f92672>&gt;</span> serviceHealthMap <span style=color:#f92672>=</span> Map.<span style=color:#a6e22e>of</span>(
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;serviceA&#34;</span>, checkServiceA(),
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;serviceB&#34;</span>, checkServiceB()
</span></span><span style=display:flex><span>            );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>// Check each service and update health status</span>
</span></span><span style=display:flex><span>            serviceHealthMap.<span style=color:#a6e22e>entrySet</span>().<span style=color:#a6e22e>forEach</span>(entry <span style=color:#f92672>-&gt;</span> {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>entry.<span style=color:#a6e22e>getValue</span>()) {
</span></span><span style=display:flex><span>                    healthBuilder.<span style=color:#a6e22e>down</span>().<span style=color:#a6e22e>withDetail</span>(entry.<span style=color:#a6e22e>getKey</span>(), entry.<span style=color:#a6e22e>getKey</span>() <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; is down&#34;</span>);
</span></span><span style=display:flex><span>                } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                    healthBuilder.<span style=color:#a6e22e>withDetail</span>(entry.<span style=color:#a6e22e>getKey</span>(), entry.<span style=color:#a6e22e>getKey</span>() <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; is healthy&#34;</span>);
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>boolean</span> allServicesHealthy <span style=color:#f92672>=</span> serviceHealthMap.<span style=color:#a6e22e>values</span>().<span style=color:#a6e22e>stream</span>()
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>allMatch</span>(Boolean::booleanValue);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> allServicesHealthy <span style=color:#f92672>?</span> healthBuilder.<span style=color:#a6e22e>build</span>() : healthBuilder.<span style=color:#a6e22e>down</span>().<span style=color:#a6e22e>build</span>();
</span></span><span style=display:flex><span>        };
</span></span><span style=display:flex><span>    }
</span></span></code></pre></div></section><section><p>output in <code>/actuator/health</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span>    <span style=color:#e6db74>&#34;depsIndicator&#34;</span><span style=color:#960050;background-color:#1e0010>:</span> {
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;details&#34;</span>: {
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;serviceA&#34;</span>: <span style=color:#e6db74>&#34;serviceA is healthy&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;serviceB&#34;</span>: <span style=color:#e6db74>&#34;serviceB is down&#34;</span>
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;status&#34;</span>: <span style=color:#e6db74>&#34;DOWN&#34;</span>
</span></span><span style=display:flex><span>        }<span style=color:#960050;background-color:#1e0010>,</span>
</span></span></code></pre></div></section><section><p>Cache</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span><span style=color:#f92672>management</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>endpoint</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>health</span>:
</span></span><span style=display:flex><span>            <span style=color:#f92672>cache</span>:
</span></span><span style=display:flex><span>                <span style=color:#f92672>time-to-live</span>: <span style=color:#ae81ff>30s</span>
</span></span></code></pre></div></section></section><section><section data-shortcode-section><p>Status Aggregation</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span><span style=color:#f92672>management</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>endpoint</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>health</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>status</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>order</span>: <span style=color:#ae81ff>down, out-of-service, unknown, up</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>http-mapping</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>down</span>: <span style=color:#ae81ff>503</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>out-of-service</span>: <span style=color:#ae81ff>503</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>unknown</span>: <span style=color:#ae81ff>500</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>up</span>: <span style=color:#ae81ff>200</span>
</span></span></code></pre></div><p>Add custom http-mapping will remove default mapping.</p></section></section><section><section data-shortcode-section><h2 id=k8s-support><a href=https://docs.spring.io/spring-boot/reference/actuator/endpoints.html#actuator.endpoints.kubernetes-probes>K8s support</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span><span style=color:#f92672>management</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>endpoint</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>health</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>probes</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>enabled</span>: <span style=color:#66d9ef>true</span> <span style=color:#75715e># This is enabled by default in k8s environment</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>add-additional-paths</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>       <span style=color:#f92672>group</span>:
</span></span><span style=display:flex><span>         <span style=color:#f92672>liveness</span>:
</span></span><span style=display:flex><span>           <span style=color:#f92672>include</span>: <span style=color:#ae81ff>diskSpace, ping</span>
</span></span><span style=display:flex><span>         <span style=color:#f92672>readiness</span>:
</span></span><span style=display:flex><span>           <span style=color:#f92672>include</span>: <span style=color:#ae81ff>db, redis</span> <span style=color:#75715e># include all the indicators you want</span>
</span></span></code></pre></div><pre>
Spring Boot auto-detects Kubernetes deployment environments by checking
the environment for "*_SERVICE_HOST" and "*_SERVICE_PORT" variables. 

You can override this detection with the `spring.main.cloud-platform`
configuration property.
</pre></section><section><p>In the k8s side, can configure like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span><span style=color:#f92672>livenessProbe</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>httpGet</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>path</span>: <span style=color:#e6db74>&#34;/actuator/health/liveness&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>port</span>: <span style=color:#ae81ff>&lt;actuator-port&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>failureThreshold</span>: <span style=color:#ae81ff>...</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>periodSeconds</span>: <span style=color:#ae81ff>...</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>readinessProbe</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>httpGet</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>path</span>: <span style=color:#e6db74>&#34;/actuator/health/readiness&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>port</span>: <span style=color:#ae81ff>&lt;actuator-port&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>failureThreshold</span>: <span style=color:#ae81ff>...</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>periodSeconds</span>: <span style=color:#ae81ff>...</span>
</span></span></code></pre></div><p>For the graceful shutdown, can refer to <a href=https://meirong.dev/posts/graceful-shutdown-for-springboot3-in-k8s/>Spring Boot 3 Graceful Shutdown with Kubernetes</a>.</p></section></section><section><section data-shortcode-section><h2 id=info><a href=https://docs.spring.io/spring-boot/api/rest/actuator/info.html>Info</a></h2></section><section><p>Builtin contributors</p><ul><li>build</li><li>env</li><li>git</li><li>java</li><li>os</li><li>process</li><li>ssl</li></ul></section><section><p>Build Info</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span><span style=color:#f92672>&lt;plugin&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;groupId&gt;</span>org.springframework.boot<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;artifactId&gt;</span>spring-boot-maven-plugin<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;goals&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;goal&gt;</span>build-info<span style=color:#f92672>&lt;/goal&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;/goals&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/plugin&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;plugin&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;groupId&gt;</span>io.github.git-commit-id<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;artifactId&gt;</span>git-commit-id-maven-plugin<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/plugin&gt;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;git&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;branch&#34;</span>: <span style=color:#e6db74>&#34;main&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;commit&#34;</span>: {
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;id&#34;</span>: <span style=color:#e6db74>&#34;f08b993&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;time&#34;</span>: <span style=color:#e6db74>&#34;2025-10-27T14:33:29Z&#34;</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></section><section><p>Other Builtin Contributors</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span><span style=color:#f92672>management</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>info</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>build</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>enabled</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>git</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>enabled</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>os</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>enabled</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>process</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>enabled</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>java</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>enabled</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>ssl</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>enabled</span>: <span style=color:#66d9ef>true</span>
</span></span></code></pre></div></section><section><p>Write your own</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span><span style=color:#a6e22e>@Bean</span>
</span></span><span style=display:flex><span>InfoContributor <span style=color:#a6e22e>barInfoContributor</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> InfoContributor() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>contribute</span>(Info.<span style=color:#a6e22e>Builder</span> builder) {
</span></span><span style=display:flex><span>      builder.<span style=color:#a6e22e>withDetail</span>(<span style=color:#e6db74>&#34;bar&#34;</span>, Map.<span style=color:#a6e22e>of</span>(<span style=color:#e6db74>&#34;now&#34;</span>, Instant.<span style=color:#a6e22e>now</span>().<span style=color:#a6e22e>toString</span>()));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></section></section><section><section data-shortcode-section><h2 id=env><a href=https://docs.spring.io/spring-boot/api/rest/actuator/env.html>Env</a></h2><p><a href=https://docs.spring.io/spring-boot/reference/features/external-config.html>Externalized Configuration</a></p></section><section><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span><span style=color:#f92672>management</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>endpoint</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>env</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>show-values</span>: <span style=color:#ae81ff>always</span> <span style=color:#75715e># never, when-authorized, always</span>
</span></span></code></pre></div></section><section><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span>  <span style=color:#a6e22e>@Bean</span>
</span></span><span style=display:flex><span>  SanitizingFunction <span style=color:#a6e22e>sanitizeEnv</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> (SanitizableData data) <span style=color:#f92672>-&gt;</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (data.<span style=color:#a6e22e>getLowerCaseKey</span>().<span style=color:#a6e22e>equals</span>(<span style=color:#e6db74>&#34;spring.application.pid&#34;</span>)) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> data.<span style=color:#a6e22e>withValue</span>(999);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (data.<span style=color:#a6e22e>getLowerCaseKey</span>().<span style=color:#a6e22e>equals</span>(<span style=color:#e6db74>&#34;spring.security.user.password&#34;</span>)) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> data.<span style=color:#a6e22e>withSanitizedValue</span>();
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> data;
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>  }
</span></span></code></pre></div></section></section><section><section data-shortcode-section><h2 id=beans><a href=https://docs.spring.io/spring-boot/api/rest/actuator/beans.html>Beans</a></h2><ul><li>Exposes all configured beans of your application</li><li>Includes some detailed information where the bean is defined</li><li>Useful for debugging when you wonder whether or not an expected bean is present</li></ul></section></section><section><section data-shortcode-section><h2 id=conditions><a href=https://docs.spring.io/spring-boot/api/rest/actuator/conditions.html>Conditions</a></h2><ul><li>Explains why AutoConfigurations are included or not</li><li>Useful for debugging when you wonder why an AutoConfiguration is missing or when you think there is one to many</li></ul></section></section><section><h2 id=custom-endpoint><a href=https://docs.spring.io/spring-boot/api/rest/actuator/custom.html>Custom Endpoint</a></h2><ul><li>Allows you to create your own actuator endpoints</li><li>Useful for exposing application-specific metrics or health information</li></ul><p><a href=https://vladmihalcea.com/custom-spring-boot-actuator-endpoint/>Custom Spring Boot Actuator Endpoint</a></p></section><section><section data-shortcode-section><h2 id=startup><a href=https://docs.spring.io/spring-boot/api/rest/actuator/startup.html>Startup</a></h2><ul><li>Provides insights into the application startup process</li><li>Displays the time taken by each component to initialize</li><li>Useful for identifying bottlenecks during startup</li></ul></section><section><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span><span style=color:#66d9ef>var</span> app <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> SpringApplication(ActuatorDemoApplication.<span style=color:#a6e22e>class</span>);
</span></span><span style=display:flex><span>app.<span style=color:#a6e22e>setApplicationStartup</span>(<span style=color:#66d9ef>new</span> BufferingApplicationStartup(4096));
</span></span><span style=display:flex><span>app.<span style=color:#a6e22e>run</span>(args);
</span></span></code></pre></div></section></section><section><section data-shortcode-section><h2 id=logger><a href=https://docs.spring.io/spring-boot/api/rest/actuator/loggers.html>Logger</a></h2><ul><li>Allows you to view and modify the logging levels of your application at runtime</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span>$ curl <span style=color:#e6db74>&#39;http://localhost:8080/actuator/loggers/com.example&#39;</span> -i -X POST <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    -H <span style=color:#e6db74>&#39;Content-Type: application/json&#39;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    -d <span style=color:#e6db74>&#39;{&#34;configuredLevel&#34;:&#34;debug&#34;}&#39;</span>
</span></span></code></pre></div></section></section><section><section data-shortcode-section><h2 id=audit-event><a href=https://docs.spring.io/spring-boot/api/rest/actuator/auditevents.html>Audit Event</a></h2><ul><li>Mostly used for security auditing</li></ul><p>can refer <a href=https://www.baeldung.com/spring-boot-authentication-audit>here</a> for more details</p></section></section><section><section data-shortcode-section><h2 id=mappings><a href=https://docs.spring.io/spring-boot/api/rest/actuator/mappings.html>Mappings</a></h2><ul><li>Display a list of all @RequestMapping paths in your application</li><li>Useful for debugging to see which paths are mapped to which controllers</li></ul></section></section><section><section data-shortcode-section><h2 id=http-exchange><a href=https://docs.spring.io/spring-boot/api/rest/actuator/httpexchanges.html>HTTP Exchange</a></h2><blockquote><p>Displays HTTP exchange information (by default, the last 100 HTTP request-response exchanges).</p></blockquote><blockquote><p>Requires an HttpExchangeRepository bean.</p></blockquote></section><section><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span>  <span style=color:#a6e22e>@Bean</span>
</span></span><span style=display:flex><span>  InMemoryHttpExchangeRepository <span style=color:#a6e22e>httpExchangeRepository</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> InMemoryHttpExchangeRepository();
</span></span><span style=display:flex><span>  }
</span></span></code></pre></div></section></section><section><section data-shortcode-section><h2 id=observability>Observability</h2></section><section><h3 id=metrics><a href=https://docs.spring.io/spring-boot/api/rest/actuator/metrics.html>Metrics</a></h3><ul><li>Metrics collected by Micrometer</li></ul><blockquote><p>Micrometer provides a facade for the most popular observability systems, allowing you to instrument your JVM-based application code without vendor lock-in. Think SLF4J, but for observability.</p></blockquote></section><section><h3 id=traces>Traces</h3><ul><li><a href=https://docs.micrometer.io/micrometer/reference/implementations/otlp.html>Micrometer OpenTelemetry</a></li><li><a href=https://docs.micrometer.io/micrometer/reference/implementations/prometheus.html>Micrometer Prometheus</a></li><li><a href=https://docs.micrometer.io/micrometer/reference/observation.html>Micrometer Observation</a></li></ul></section></section><section><h2 id=takeaways>Takeaways</h2><section data-shortcode-section><ul><li>Spring Boot Actuator provides production-ready features to help you monitor and manage your application.</li><li>It offers a variety of built-in endpoints for health checks, metrics, and more.</li><li>You can customize and extend Actuator by creating your own endpoints.</li></ul></section><section><ul><li>Actuator integrates with observability tools to provide insights into application performance and behavior.</li><li>Always consider security implications when exposing Actuator endpoints in production environments.</li></ul></section></section><section><h2 id=thank-you>Thank You!</h2></section></div></div><script type=text/javascript src=/slides/reveal-hugo/object-assign.js></script><script src=/slides/reveal-js/dist/reveal.js></script><script type=text/javascript src=/slides/reveal-js/plugin/markdown/markdown.js></script><script type=text/javascript src=/slides/reveal-js/plugin/highlight/highlight.js></script><script type=text/javascript src=/slides/reveal-js/plugin/zoom/zoom.js></script><script type=text/javascript src=/slides/reveal-js/plugin/notes/notes.js></script><script type=text/javascript>function camelize(e){return e&&Object.keys(e).forEach(function(t){newK=t.replace(/(_\w)/g,function(e){return e[1].toUpperCase()}),newK!=t&&(e[newK]=e[t],delete e[t])}),e}var revealHugoDefaults={center:!0,controls:!0,history:!0,progress:!0,transition:"slide"},revealHugoSiteParams={custom_css:"css/custom.css"},revealHugoPageParams={},revealHugoPlugins={plugins:[RevealMarkdown,RevealHighlight,RevealZoom,RevealNotes]},options=Object.assign({},camelize(revealHugoDefaults),camelize(revealHugoSiteParams),camelize(revealHugoPageParams),camelize(revealHugoPlugins));Reveal.initialize(options)</script></body></html>